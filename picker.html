<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>בחירת צבעים</title>
    <link rel="shortcut icon" href="eye.png">
  </head>
  <style>
    #root {
      text-align: center;
    }
    h1{
      color: grey;
      margin-bottom: 20px;
    }
    #color{
      margin: auto;
      width: 70%;
      height: 50vh;
      max-height: 50%;
      border: 3px solid grey;
      padding: 10px;
      background-color: hotpink;
      border-radius: 4px;
    }
    #word {
      text-align: center;
    }
    #colorName {
      margin-top: 14vh;
      text-align: center;
    }
    #speedHeader {
      margin-top: 10px;
    }
  </style>
  <script>
    window.COLORS = {
        "כסף": {
            "code": "#9db2be",
            "words": [
                "‫ח‪.‬ש‪.‬פ‬",
                "‫כ‪.‬ס‪.‬פ‬",
                "‫כ‪.‬ש‪.‬פ‬",
                "‫ס‪.‬ד‪.‬ד‬",
                "‫ס‪.‬ד‪.‬ר‬",
                "‫ס‪.‬פ‪.‬ג‬",
                "‫ס‪.‬פ‪.‬ח‬",
                "‫פ‪.‬ס‪.‬ח‬",
                "‫ק‪.‬ש‪.‬ב‬",
                "‫ש‪.‬כ‪.‬ב‬"
            ]
        },
        "צהוב": {
            "code": "#fff101",
            "words": [
                "‫ה‪.‬ח‪.‬ל‬",
                "‫ה‪.‬כ‪.‬ל‬",
                "‫ז‪.‬ה‪.‬ר‬",
                "‫ח‪.‬מ‪.‬צ‬",
                "‫י‪.‬כ‪.‬ל‬",
                "‫כ‪.‬ל‪.‬ל‬",
                "‫ע‪.‬ו‪.‬ר‬"
            ]
        },
        "שחור": {
            "code": "#071822",
            "words": [
                "‫ג‪.‬מ‪.‬ר‬",
                "‫ח‪.‬ר‪.‬ש‬",
                "‫ח‪.‬ש‪.‬כ‬",
                "‫מ‪.‬ל‪.‬א‬",
                "‫ס‪.‬ג‪.‬ר‬",
                "‫ס‪.‬ו‪.‬פ‬",
                "‫ס‪.‬י‪.‬מ‬",
                "‫פ‪.‬נ‪.‬מ‬",
                "‫ר‪.‬כ‪.‬ש‬",
                "‫ש‪.‬נ‪.‬ה‬",
                "‫ש‪.‬ח‪.‬ר‬",
                "‫ש‪.‬כ‪.‬ח‬"
            ],
            "isDark": true
        },
        "אדום": {
            "code": "#d1232a",
            "words": [
                "‫א‪.‬ה‪.‬ב‬",
                "‫ב‪.‬ה‪.‬ה‬",
                "‫ג‪.‬ב‪.‬ר‬",
                "‫ד‪.‬ר‪.‬ש‬",
                "‫ז‪.‬ה‪.‬ר‬",
                "‫ח‪.‬מ‪.‬מ‬",
                "‫ח‪.‬ש‪.‬ק‬",
                "‫ט‪.‬ע‪.‬ה‬",
                "‫י‪.‬מ‪.‬נ‬",
                "‫כ‪.‬ע‪.‬ס‬",
                "‫מ‪.‬י‪.‬י‪.‬נ‬",
                "‫מ‪.‬מ‪.‬נ‬",
                "‫מ‪.‬נ‪.‬ה‬",
                "‫ש‪.‬ח‪.‬ק‬",
                "‫ש‪.‬ר‪.‬ד‬",
                "‫ר‪.‬ת‪.‬ח‬",
                "‫ת‪.‬ה‪.‬ה‬"
            ]
        },
        "לבן": {
            "code": "#ffffff",
            "words": [
                "‫ו‪.‬ד‪.‬ה‬",
                "‫ח‪.‬ד‪.‬ש‬",
                "‫ט‪.‬ה‪.‬ר‬",
                "‫י‪.‬ל‪.‬ד‬",
                "‫מ‪.‬ל‪.‬כ‬",
                "‫נ‪.‬ק‪.‬ה‬",
                "‫ק‪.‬ר‪.‬ה‬",
                "‫ק‪.‬ר‪.‬ר‬",
                "‫ר‪.‬א‪.‬ש‬",
                "‫ר‪.‬י‪.‬ק‬",
                "‫ת‪.‬א‪.‬ר‬"
            ]
        },
        "אפור": {
            "code": "#6c6d70",
            "words": [
                "י.ס.ד",
                "ב.ד.ד",
                "ד.ב.ר",
                "ע.ג.ם"
            ]
        },
        "חום": {
            "code": "#682f00",
            "words": [
                "א.ד.מ",
                "י.צ.ב"
            ]
        },
        "ב'ז": {
            "code": "#e3bb6f",
            "words": [
                "ז.ר.מ",
                "ח.ב.ר",
                "ש.נ.ה"
            ]
        },
        "כתום": {
            "code": "#f36e21",
            "words": [
                "פ.א.ר",
                "פ.ע.ר",
                "ק.ש.ר"
            ]
        },
        "ורוד": {
            "code": "#f499c2",
            "words": [
                "‫א‪.‬י‪.‬ש‬",
                "‫א‪.‬ו‪.‬ש‬",
                "‫א‪.‬נ‪.‬ש‪.‬א‬",
                "‫י‪.‬ל‪.‬ד‬",
                "‫נ‪.‬ש‪.‬א‬",
                "‫נ‪.‬ס‪.‬ע‬",
                "‫נ‪.‬ש‪.‬ה‬",
                "ע.ש.ה‬"
            ]
        },
        "ירוק": {
            "code": "#40ae49",
            "words": [
                "ג.ד.ל",
                "פ.ת.ח",
                "צ.מ.ח"
            ]
        },
        "סגול": {
            "code": "#65288a",
            "words": [
                "‫ח‪.‬כ‪.‬מ‬",
                "‫י‪.‬ד‪.‬ע‬",
                "‫ס‪.‬ג‪.‬ל‬",
                "‫ר‪.‬פ‪.‬א‬",
                "‫ר‪.‬פ‪.‬ה‬"
            ],
            'isDark': true
        },
        "ירוק כהה": {
            "code": "#026a43",
            "words": [
                "‫ב‪.‬ש‪.‬ל‬",
                "‫ט‪.‬ב‪.‬ע‬",
                "‫נ‪.‬צ‪.‬ח‬",
                "‫ש‪.‬ר‪.‬ש‬",
                "‫ש‪.‬ל‪.‬ב‬",
                "‫‫ש‪.‬ל‪.‬ו‬",
                "‫ת‪.‬ב‪.‬ע‬"
            ],
            'isDark': true
        },
        "כחול": {
            "code": "#253f8e",
            "words": [
                "ב.נ.ה",
                "י.ב.נ"
            ],
            "isDark": true
        },
        "תכלת": {
            "code": "#6bcff6",
            "words": [
                "‫‫ד‪.‬ח‪.‬ס‬",
                "‫ח‪.‬ס‪.‬ד‬",
                "‫ח‪.‬ש‪.‬ב",
                "‫י‪.‬ר‪.‬א",
                "‫מ‪.‬ע‪.‬ש‬",
                "‫י‪.‬ש‪.‬מ‬",
                "‫ש‪.‬ו‪.‬מ‬",
                "‫מ‬ ‫י‪.‬‬ ‫ש‪.‬‬",
                "‫ש‪.‬מ‪.‬מ‬",
                "‫ש‪.‬מ‪.‬ע‬"
            ]
        },
        "זהב": {
            "code": "#e9c430",
            "words": [
                "‫ה‪.‬א‪.‬ר‬",
                "‫י‪.‬ר‪.‬א‬",
                "‫כ‪.‬ת‪.‬ר‬",
                "‫ר‪.‬א‪.‬ה‬"
            ]
        }
    }
    window.COLORS_ARRAY = Object.keys(COLORS).map(k => ({ ...COLORS[k], name: k }))
  </script> 

  <script>
    let wordSpeed = 200
    let colorSpeed = 200
    let intervalId;

    let colorindex = -1
    function startColorShuffel() {
      intervalId = window.setInterval(() => {
        colorindex = (colorindex + 1) % COLORS_ARRAY.length
        const {code, name, isDark} = COLORS_ARRAY[colorindex]
        document.getElementById('color').style.backgroundColor = code
        const colorName = document.getElementById('colorName')
        colorName.innerText = name
        colorName.style.color = isDark ? '#f5f2d0' : 'black';
        document.getElementById('word').style.color = isDark ? '#f5f2d0' : 'black';
      }, colorSpeed)
    }

    let wordIndex = -1 
    function startWordsShuffel() {
      const {words} = COLORS_ARRAY[colorindex]
      intervalId = window.setInterval(() => {
        wordIndex = (wordIndex + 1) % words.length
        const word = words[wordIndex]
        document.getElementById('word').innerText = word 
      }, wordSpeed)
    }

    function selectSpeed() {
      const speed = 1050 - document.getElementById('speed').value
      wordSpeed = colorSpeed = speed
      // reset
      window.clearInterval(intervalId)
      document.getElementById('word').innerText = ''
      state = 'colorShuffel'
      startColorShuffel()
    }

    let state = 'colorShuffel'
    function changeState() {
      if (state == 'colorShuffel') {
        state = 'wordsShuffel'
        window.clearInterval(intervalId)
        startWordsShuffel()
      } else if (state == 'wordsShuffel') {
        window.clearInterval(intervalId)
        state = 'wordSelected'
      } else if(state === 'wordSelected') {
        document.getElementById('word').innerText = ''
        state = 'colorShuffel'
        startColorShuffel()
      }
    }
  </script>

  <body onload="startColorShuffel()">
    <div id="root">
      <h1>בחירת צבע</h2>
      <div id="color" onclick="changeState()">
        <h2 id="colorName"></h3>
        <h4 id="word"></h4>
      </div>
      <div>
        <div id="speedHeader">מהירות</div>
        <input id="speed" type="range" min="50" max="1000" value="950" onchange="selectSpeed()">
      </div>
    </div>
  </body>
</html>
